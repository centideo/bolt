---
layout: post
title: Query Entities
---

The **Query Entities** operation queries entities in a table and includes the **$filter** and **$select** options.

###Request

HTTPS is recommended. Replace myaccount with the name of your storage account, and mytable with the name of your table:

| Method        | Request URI   | HTTP Version  |
| :------------- |:-------------| :-------------|
| GET           | ``` https://myaccount.table.core.windows.net/mytable(PartitionKey='<partition-key>',RowKey='<row-key>')?$select=<comma-separated-property-names> ```| HTTP/1.1|
|                | ``` https://localhost/mytable()?$filter=<query-expression>&$select=<comma-separated-property-names> ``` 

----
####URI Parameters

The Query Entities operation supports the query options defined by the OData Protocol Specification.

----

####Request Headers

The following table describes required and optional request headers
 
| Request header 	| Description |
|:-------------------|:------------|
|Authorization | Required. Specifies the authentication scheme, account name, and signature. For more information, see Authentication for the Azure Storage Services. |
|Date | Required. Specifies the Coordinated Universal Time (UTC) for the request. For more information, see Authentication for the Azure Storage Services. |
|Content-Location | Required. Specifies the type of the database:
    azure  |
| Content-Type |  Required. Specifies the accepted content type of the response payload. Possible values are:
    application/json
|

----
####Request Body

None.

----
####Sample Request

Request Syntax:

{% highlight http %}
 GET /myaccount/Customers()?$filter=(Rating%20ge%203)%20and%20(Rating%20le%206)&$select=PartitionKey,RowKey,Address,CustomerSince  HTTP/1.1 

Request Headers:
Content-Location: azure
Date: Mon, 25 Nov 2013 15:25:14 GMT
Authorization: myaccount: <some key>
Content-Type : application/json

{% endhighlight %}

---

###Response

The response includes an HTTP status code, a set of response headers, and a response body.

----
####Status Code

A successful operation returns status code 200 (OK).

For information about status codes, see Status and Error Codes.

----

####Response Headers

The response for this operation includes the following headers. The response may also include additional standard HTTP headers. All standard headers conform to the HTTP/1.1 protocol specification.
 
| Response header |	Description |
| :--------------- | :----------- |
| Date | A UTC date/time value generated by the service that indicates the time at which the response was initiated. |
| Content-Type | Indicates the content type of the payload. Value depends on the request Accept header. Possible values are:

    application/json

For more formation about valid content types, see Payload Format.

----
####Sample Response

{% highlight http %}
Response Status:
HTTP/1.1 200 OK

Response Headers:
Date: Mon, 25 Nov 2013 15:25:14 GMT
Connection: close
Content-Type : application/json

{% endhighlight %}

---

####Response Body

The Query Entities operation returns the list of entities in a table as a json entity set.

Here is a sample request URI for a Query Entities operation on a Customers table.


{% highlight http %}
GET /myaccount/Customers()?$filter=(Rating%20ge%203)%20and%20(Rating%20le%206)&$select=PartitionKey,RowKey,Address,CustomerSince

{% endhighlight %}

The JSON response feed is as follows:

{% highlight json %}
{
   "value":[
      {
         "PartitionKey":"Customer",
         "RowKey":"Name",
         "Timestamp":"2013-08-22T00:20:16.3134645Z",
         "CustomerSince":"2008-10-01T15:25:05.2852025Z"
      }
   ]
}

{% endhighlight %}

----

####Authorization

This operation can be performed by the account owner and by anyone with a shared access signature that has permission to perform this operation.

----

####Remarks

A query against the Table service may return a maximum of 1,000 tables at one time and may execute for a maximum of five seconds. If the result set contains more than 1,000 tables, the response includes a custom header containing the x-bolt-continuation-NextTableName continuation token. The continuation token may be used to construct a subsequent request for the next page of data. For more information about continuation tokens, see Pagination.

Note that the right-hand side of a query expression must be a constant; you cannot reference a property on the right-hand side of the expression. See Querying Tables and Entities for details on constructing query expressions.

A query expression may not contain null values. The following characters must be encoded if they are to be used in a query string:

* Forward slash (/)

* Question mark (?)

* Colon (:)

* 'At' symbol (@)

* Ampersand (&)

* Equals sign (=)

* Plus sign (+)

* Comma (,)

* Dollar sign ($)

Any application that can authenticate and send an HTTP GET request can query entities in a table.